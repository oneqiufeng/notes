# [[能源感知设计]]：从[[布局图]]预测[[建筑性能]]

#能源 #建筑设计 #建筑性能 #建筑布局 #布局图 #能源 
## 笔记

图神经网络（GNN）已成为生成平面设计的流行工具包。尽管设计变化已大大改善，但很少有研究在生成式设计过程中考虑建筑性能等非几何特征。本文提出了一种基于 GNN 的方法，用于预测平面图定制（能源感知设计）的能源性能。该方法为使用 GNN 进行性能感知生成设计奠定了基础。结果表明，GNN 可以实现高精度的能效预测。(Jianpeng Cao et al., 2022)

一般工作流程如图 3 所示。建筑能耗分析主要通过 s1.3.0（基于 Rhino 7 中的 Grasshopper 环境）进行处理。建筑集定义为凉爽气候区、IECC 2015 建筑年份和钢结构建筑类型。生成的设计由六个房间组成，房间面积（10、15、20、25、30、35 平方米）和高度（3 米）固定不变。

同时它们在平面图上相应位置和形状会通过 Grasshopper 附加组件 Marmot 进行随机化处理。

该插件可将基于图表的信息转化为示意性平面图。在我们的研究中，每个房间都有六种可能的类型：办公室、写作室、实验室支持室、实验室、会议厅和教室。

能量性能参数定义：[https://www.ladybug.tools/honeybee-energy/docs/](https://www.ladybug.tools/honeybee-energy/docs/)

该预测模型建立在楼层布局设计会影响建筑能效的假设之上。尽管之前的学者已经证实了这一说法（Du 等人，2021 年），但本研究还基于我们的模拟平台（瓢虫 + Radiance）进行了敏感性分析，以验证这一推测。为了消除其他变量（房间大小、房间形状和房间类型）的影响，每个房间的尺寸固定为 3 米*3 米，墙壁厚度相同。研究还使用了相同数量的房间类型，其模拟属性已在 Radiance 中预先定义，颜色标记为：红色代表办公室、浅黄色代表写作、深黄色代表会议、浅橙色代表实验室、深橙色代表实验室支持、浅蓝色代表教室、中蓝色代表走廊、深蓝色代表储藏室。总共模拟了 100 个测试案例，它们之间唯一的区别是空间布局是随机生成的。

图 4 展示了 [[Grasshopper]] 默认设置下的模拟模型（包括窗户高度、尺寸等）。在定义了朝向（北、南等）后，外墙两侧的太阳条件和百叶窗设置（旋转度、深度等）将有相应的不同参数。这将有助于解释图 5 中不同的能量输出。

图 5 显示了交换 2 个房间位置时的结果。能量分析结果会随着房间布局的改变而改变（与邻接图的编辑相同），而一般的房间类型和数量是固定的。

图 6 是 100 次测试的能源行为分布。房间类型和数量是固定的（即 "特征矩阵 "设置为常数），因此，它集中显示了邻接关系对模拟结果的影响。

图 7 显示了本文 3300 个模拟数据的多样性。特征矩阵 "的自由度越大，结果分布的多样性就越高。

### 局限性

Ø  然而，该预测模型有两大局限性。首先，预测模型没有充分考虑影响能源性能的变量。这项工作的重点是设计变量，如建筑师和客户在早期阶段确定的空间布局和空间类型。许多其他变量，如天气数据，并没有被纳入模型中。影响预测性能准确性的另一个原因是 GNN 模型本身。本研究使用了基于消息传递的 GNN，而基于 Weisfeiler-Lehman 的 GNN（WLGNN）无法扩展到大型数据集（Dwivedi 等人，2020 年）。新的 GNN 模型可用于考虑更多的设计变量。

Ø  其次，缺乏一个能将生成式平面设计和能效建模结合起来的界面。本研究将生成的平面图作为输入，并通过 GNN 预测模型进行处理，以获得性能输出。考虑到平面图可以用不同的方法建模，如三维模型或二维草图，这项工作需要手动处理数据，将设计转换为图形格式。这可以通过应用对象检测算法来自动识别设计元素来解决。

### Future

未来的研究将追求三个目标。

Ø  首先，可以在现有的 GNN 模型中加入更多的建筑特征，如房间面积、房间位置、空间关系类型等。GNN 模型的结构需要相应地适应多维特征。

Ø  其次，可以根据图形的大小、密度等不同特征分析 GNN 模型的性能。

Ø  最后，我们的目标是研究 GNN 是否可用于找到对给定建筑性能（如能源效率）影响最大的设计元素。

## 空间社会互动：城市空间活力的解释框架及其初步验证

### 摘要

城市空间对当代城市生活至关重要。然而，数字时代对全球城市空间产生了持久的影响。许多实体城市空间的活力正在下降，其许多功能被网络活动所取代。从理论上重新考虑城市空间吸引力的关键要素，并找到一种有效的实际测量方法来提高城市空间的活力已变得至关重要。

**因此，本文运用社会学和城市规划学的跨学科视角，提出了一个解释框架，说明城市空间活力的主要决定因素已转向 "** **空间社会交往"** **，而 "** **空间社会交往 "** 来源于人们的社会需求。基于这一假设，本文进一步提出了空间社会互动的各种因素，并构建了一个定量模型。 

此外，本文还通过对深圳华侨城 Loft 的实证分析验证了该模型。在此过程中，计算了典型空间的互动参数，并与实际情况进行了比较，结果表明两者呈正相关。理论框架的构建和初步验证有望为世界范围内的城市空间活化提供启示，并有助于对相关设计进行预评估。(Xiangmin Guo et al., 2022)

## 城市参数化生成

Ø  城市计算+城市物理学

Ø  规划需求（含有选址规则、建筑规则、土地规划要求、绿化率、其他配置要求比如配备写字楼等、人居要求、政府规划文件）

Ø  人流问题（手机信号数据）、道路规划、能源问题（碳排放）、微气候（宏观气候）、公共设施的可达性分析（医院、政府中心机构、银行等）、城市宜居程度分析与改善（生成-权重-分析最重要的内容和最合适的方案）、城市优化，迈向没有贫民窟的城市：拓扑结构与街区的空间演变(Christa Brelsford et al., 2018)

Ø  调查 OpenStreetMap 中全球城市建筑数据完整性和不平等性的时空分析

## 几何建模（会议纪要）

Ø  点的数据量，点是不是重要点，只需要找到关键的几个确定形状和维度的点，就可以确定出来模型数据

Ø  存储的时候不一定需要关系型的数据库，非关系型的数据库的读取效率高，关系型的数据更加丰富。点（方向、位移距离…），增加点减少点，查询数据

Ø  设计点的时候，有一部分点是不能删除和位移（重要点，点的属性），点的数量（拓扑关系减少），内部全部点的临近关系都会改变（法向量、切面等等）

Ø  用一个点取代大量的点（关系图谱的优势）

Ø  点之间的包含关系，越宏观层次就越深刻。我们要把单独的点（不同层次的点剥离出来分析）；比较麻烦的点（城市级别的展示问题）

Ø  问题：点之间的距离。贝塞尔曲线（代码实现 & nodes）一个曲面的确定。曲面还原的问题。曲面的随机点的曲率有关系，随机点的确定。采样率的问题，去掉的点就在简化这个面。

Ø  足够多的关系点，找临近点的关系。

Ø  目的：用最少的点表示一个面。（对称轴、对称轴确定的点的曲率、不同的面的参数不一样）

Ø  V（外在就是关系，内在就是体的）外在是形状，内在是数据量。

Ø  标记名称+参数（四种函数就是最基本的算法，所有的点都是用这些函数表示出来得到的）

Ø  难点在于不规则曲面的点取样，曲面上的点的选择

Ø  IFC open shell（[http://ifcopenshell.org/）——Speckle](http://ifcopenshell.org/）——Speckle)

Ø  实现轻量化

Ø  路线（新的技术必须包含旧有的东西）